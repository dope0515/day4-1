<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>전개연산자</title>
</head>
<body>
    <script>
        /*
        전개연산자(Spread Operator)
        - 배열이나 객체같은 참조형자료값을 꺼내서 펼친다음 새로운 배열, 객체로 복사해서 옮겨담는 연산

        참조형 자료
        - 변수에 값 자체가 담기는게 아닌 해당 값에 참조링크가 등록 (변수: callstack, 참조형자료값: memory heap)
        - 참조형자료를 변수를 통해서 복사하면 갑자체가 복사되는게 아닌 참조링크만 복사가 되므로 해당 값을 변경시 원본의 훼손이 발생
        - 불변성: 특정 값을 비교할 때 원본과 복사본이 모두 있어야지 원본대비 복사본 변경된 부분을 비교가능
        - Shallow copy(얕은복사): 참조링크만 복사(불변성 유지안됨)
        - Deep copy(깊은복사): 값자체를 복사(불변성 유지됨)
        */

        let text = 'hello';
        let text2 = text;
        
        text2 = 'hello2';

        console.log(text2,text2)
        console.log(text,text)
        //위의 예시처럼 원시형자료를 변수를 통해 복사하면 복사본의 값이 바뀌더라도 원본의 값은 유지가 되는 불변성상태 확인
        
        let numbers = [1,2,3];
        let numbers2 = numbers;

        numbers2[0] = 0;

        console.log('numbers2', numbers2);
        console.log('numbers',numbers);
        //위의 예시처럼 참조형자료를 변수로 통해 복사하면 복사본이 변경시 원본이 훼손되는 불변성유지가 안됨

        const arr = ['red','green','blue'];
        console.log(...arr); 
        //원본 배열 arr에 있는 값을 꺼내온 뒤 다시 새로운 배열로 묶어줌 -> deep copy
        const newArr =[...arr];
        newArr[0] = 'hotpink'
        console.log('newArr',newArr); 
        console.log('arr',arr); 
        //위와 같이 전개연산자를 이용해서 배열값을 복사하면 원본 유지된 상태에서 완전 새로운 복사본 생성가능 (불변성유지가능)

    </script>
</body>
</html>